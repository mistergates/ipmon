{% extends "layout.html" %}

{% block content %}

<div class="column is-8 is-offset-2">
    <form method="POST" action="{{ url_for('setup.setup') }}" novalidate>
        {{ form.hidden_tag() }}

        <!-- Admin Account -->
        <div class="box">
            <p class="title">Admin Account</p>
            <div class="field">
                <div class="control">
                    {{ form.username.label(class_="label") }}
                    {{ form.username(class_="input is-medium") }}
                </div>
            </div>
            <div class="field">
                <div class="control">
                    {{ form.email.label(class_="label") }}
                    {{ form.email(class_="input is-medium") }}
                </div>
            </div>
            <div class="field">
                <div class="control">
                    {{ form.password.label(class_="label") }}
                    {{ form.password(class_="password is-medium") }}
                </div>
            </div>
            <div class="field">
                <div class="control">
                    {{ form.verify_password.label(class_="label") }}
                    {{ form.verify_password(class_="password is-medium") }}
                </div>
            </div>
        </div>

        <!-- Polling -->
        <div class="box">
            <p class="title">Polling Confugration</p>
            <div class="field">
                <div class="control">
                    {{ form.interval.label(class_="label") }}
                    {{ form.interval(class_="input is-large", id="polling-interval") }}
                    <p class="help">The amount of time in seconds between polling hosts</p>
                </div>

            </div>
            <div class="field">
                <div class="control">
                    {{ form.retention_days.label(class_="label") }}
                    {{ form.retention_days(class_="input is-large", id="history-retention") }}
                    <p class="help">The number of days to keep poll history logs for each host</p>
                </div>

            </div>
        </div>

        <!-- SMTP -->
        <div class="box">
            <p class="title">SMTP Configuration</p>
            <div class="field">
                <div class="control">
                    {{ form.enable_smtp() }} {{ form.enable_smtp.label(_class="checkbox") }}
                </div>
            </div>
            <div class="field">
                <div class="control">
                    {{ form.server.label(class_="label") }}
                    {{ form.server(class_="input is-large", id="smtp-server") }}
                </div>
            </div>
            <div class="field">
                <div class="control">
                    {{ form.port.label(class_="label") }}
                    {{ form.port(class_="input is-large", id="smtp-port") }}
                </div>
            </div>
            <div class="field">
                <div class="control">
                    {{ form.sender.label(class_="label") }}
                    {{ form.sender(class_="input is-large", id="smtp-sender") }}
                </div>
            </div>
            <div class="control">
                {{ form.submit(class_="button is-info is-medium") }}
            </div>
        </div>

        <!-- Submit -->
        <div class="box">
            <div class="control">
                {{ form.submit(class_="button is-info is-medium") }}
            </div>
        </div>
    </form>
</div>

{% endblock %}